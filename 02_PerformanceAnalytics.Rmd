---
title: "02_PerformanceAnalytics"
output: html_document
date: "2023-06-01"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Performace Analytics

El paquete `PerformaceAnalytics` es una colección de funciones econométricas para el análisis de rendimiento y riesgo. Además de las métricas estándar de riesgo y rendimiento, este paquete tiene como objetivo ayudar a los profesionales e investigadores a utilizar las últimas investigaciones en el análisis de flujos de retornos no normales. En general, se ha probado más en datos de retornos (en lugar de precios) en una escala regular, pero la mayoría de las funciones también funcionarán con datos de retornos irregulares, y cada vez más funciones funcionarán con datos de ganancias y pérdidas o precios cuando sea posible.

```{r}
library(performanceanalytics)

# Calcular el rendimiento acumulado
cumulative_return <- Return.cumulative(prices)

# Calcular el rendimiento diario
daily_return <- Return.daily(daily_prices)

# Crear un vector de retornos diarios
daily_returns <- c(0.02, -0.01, 0.03, -0.02, 0.01)

# Calcular la volatilidad
volatility <- sd(daily_returns)

# Correlacion de dos retornos
correlation <- cor(returns_A, returns_B)


# Calcular el drawdown máximo
max_drawdown <- maxDrawdown(portfolio_values)

# Calcular el índice de desempeño
performance_index <- PerformanceAnalytics::PerformanceAnalytics(returns)


# Calcular la ratio de información
information_ratio <- InformationRatio(returns_portfolio, returns_benchmark)


# Calcular el ratio de Sharpe
sharpe_ratio <- SharpeRatio(returns)


```

## Including Plots

El índice de desempeño, el ratio de información y el ratio de Sharpe son métricas utilizadas en el análisis de inversiones y finanzas para evaluar y comparar el rendimiento y riesgo de una inversión. A continuación, te explico brevemente cada uno y su diferencia:

Índice de desempeño (Performance Index):
El índice de desempeño es una métrica que evalúa la capacidad de una estrategia de inversión para generar retornos ajustados al riesgo a lo largo del tiempo. Se calcula tomando en cuenta tanto el rendimiento absoluto como el riesgo asumido. Un índice de desempeño más alto indica una estrategia más exitosa en términos de obtener rendimientos superiores ajustados al riesgo.

Ratio de información (Information Ratio):
El ratio de información compara el rendimiento de una estrategia de inversión con respecto a un benchmark o referencia. Mide la capacidad de la estrategia para generar retornos en exceso en relación con la volatilidad o riesgo asumido en comparación con el benchmark. Un ratio de información más alto indica que la estrategia ha generado mayores retornos ajustados al riesgo en comparación con el benchmark.

Ratio de Sharpe (Sharpe Ratio):
El ratio de Sharpe es una medida de la rentabilidad ajustada al riesgo de una inversión. Calcula la relación entre el rendimiento promedio en exceso de una inversión (es decir, el rendimiento por encima de una tasa libre de riesgo) y la volatilidad o riesgo asumido. Un ratio de Sharpe más alto indica una mayor rentabilidad ajustada al riesgo.

La diferencia entre estas métricas radica en los aspectos que consideran al evaluar el rendimiento y el riesgo de una inversión. Mientras que el índice de desempeño se enfoca en el rendimiento absoluto y el riesgo general de la estrategia, el ratio de información se centra en la capacidad de superar un benchmark específico. Por otro lado, el ratio de Sharpe evalúa la rentabilidad ajustada al riesgo en relación con una tasa libre de riesgo. Cada métrica proporciona una perspectiva diferente para evaluar la calidad y el éxito de una estrategia de inversión.


El índice de Sortino es otra métrica utilizada en el análisis de inversiones y finanzas para evaluar y comparar el rendimiento ajustado al riesgo de una inversión, centrándose específicamente en el riesgo a la baja o el riesgo de pérdidas.

En el paquete "performanceanalytics" de R, la función SortinoRatio() se utiliza para calcular el índice de Sortino. Esta función toma como argumentos los retornos de una estrategia de inversión y un umbral o tasa mínima deseada de rendimiento. La fórmula del índice de Sortino es la siguiente:

Índice de Sortino = (Rendimiento promedio - Tasa mínima de rendimiento) / Volatilidad de los retornos negativos

La función SortinoRatio() calcula este índice teniendo en cuenta solo los retornos negativos, ya que se enfoca en medir y evaluar el riesgo de pérdidas.

```{r}
library(performanceanalytics)

# Crear un vector de retornos diarios
returns <- c(0.02, -0.01, 0.03, -0.02, -0.01, 0.01)

# Definir una tasa mínima de rendimiento deseada
minimum_return <- 0.0

# Calcular el índice de Sortino
sortino_index <- SortinoRatio(returns, target = minimum_return)

# Imprimir el índice de Sortino
print(sortino_index)
```

